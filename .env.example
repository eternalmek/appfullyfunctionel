# EternalMe Backend Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL database connection URL (required)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:password@localhost:5432/eternalme

# =============================================================================
# AUTHENTICATION
# =============================================================================
# JWT secret for signing tokens (required - use a strong random string)
JWT_SECRET=your-secure-jwt-secret-here

# Token expiration times
ACCESS_TOKEN_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=30d

# =============================================================================
# FRONTEND
# =============================================================================
# Frontend URL for OAuth redirects and CORS
FRONTEND_URL=http://localhost:5173
FRONTEND_ORIGIN=http://localhost:5173

# =============================================================================
# AI CHAT (THE MIRROR)
# =============================================================================
# OpenAI API key for AI-powered chat responses
# Get your key from: https://platform.openai.com/api-keys
# If not set, the Mirror will use rule-based fallback responses
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI model to use (defaults to gpt-4o-mini if not set)
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# FACEBOOK OAUTH (for Facebook + Instagram login/connection)
# =============================================================================
# Create an app at: https://developers.facebook.com/apps/
# Required permissions: public_profile, email, user_photos, user_videos
OAUTH_FACEBOOK_CLIENT_ID=your-facebook-app-id
OAUTH_FACEBOOK_CLIENT_SECRET=your-facebook-app-secret
OAUTH_FACEBOOK_CALLBACK_URL=http://localhost:4000/connections/facebook/callback
OAUTH_FACEBOOK_LOGIN_CALLBACK_URL=http://localhost:4000/auth/oauth/facebook/callback

# =============================================================================
# INSTAGRAM OAUTH
# =============================================================================
# Instagram uses Facebook's API - can share the same credentials
# Or configure separate ones for Instagram Basic Display API
# Get credentials at: https://developers.facebook.com/apps/
OAUTH_INSTAGRAM_CLIENT_ID=your-instagram-app-id
OAUTH_INSTAGRAM_CLIENT_SECRET=your-instagram-app-secret
OAUTH_INSTAGRAM_CALLBACK_URL=http://localhost:4000/connections/instagram/callback
OAUTH_INSTAGRAM_LOGIN_CALLBACK_URL=http://localhost:4000/auth/oauth/instagram/callback

# =============================================================================
# TIKTOK OAUTH
# =============================================================================
# Create an app at: https://developers.tiktok.com/
# Required scopes: user.info.basic, video.list
OAUTH_TIKTOK_CLIENT_ID=your-tiktok-client-key
OAUTH_TIKTOK_CLIENT_SECRET=your-tiktok-client-secret
OAUTH_TIKTOK_CALLBACK_URL=http://localhost:4000/connections/tiktok/callback
OAUTH_TIKTOK_LOGIN_CALLBACK_URL=http://localhost:4000/auth/oauth/tiktok/callback

# =============================================================================
# GOOGLE PHOTOS OAUTH
# =============================================================================
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Enable the Google Photos Library API
OAUTH_GOOGLE_CLIENT_ID=your-google-client-id
OAUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
OAUTH_GOOGLE_CALLBACK_URL=http://localhost:4000/connections/photos/callback

# =============================================================================
# FILE UPLOAD (OPTIONAL)
# =============================================================================
# AWS S3 for file storage (optional - files stored locally if not set)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-s3-bucket-name
AWS_REGION=us-east-1

# =============================================================================
# SERVER
# =============================================================================
# Port to run the backend on
PORT=4000
